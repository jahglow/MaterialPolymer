<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="..\..\bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="..\..\bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="..\..\bower_components/iron-pages/iron-pages.html">

<dom-module id="reportal-sidebar">
  <template>
    <style>
      :host {
        display: block;
      }
      .logo img{
        width:auto;
        padding: 14px;
        padding-bottom:0;
        max-width: calc(100% - 28px);
        height:auto;
        @apply(--reportal-sidebar-logo);
      }
      .logo{
        position:relative;
        width:100%;
        text-align: center;
        height:auto;
      }
      :host>::content #reportFilters{
        padding:8px;
        @apply(--reportal-sidebar-filters)
      }

      :host>::content .section-title{
        margin: 8px 8px 0 8px;
        display: block;
        position: relative;
        font-weight: 500;
        color: var(--secondary-text-color);
        font-size: 13px;
        line-height: 32px;
        text-transform: uppercase;
        @apply(--reportal-sidebar-section-title);
      }

      paper-tabs{
        --paper-tabs-selection-bar-color: var(--default-primary-color);
        @apply(--reportal-sidebar-paper-tabs);
      }
      paper-tab{
        --paper-tab-ink: var(--light-primary-color);
        @apply(--reportal-sidebar-paper-tab);
      }
      :host>::content reportal-button.apply{
        background-color: var(--default-primary-color);
        color: var(--text-primary-color);
        font-size: 13px;
        @apply(--reportal-sidebar-apply-filters-button);
      }
      :host>::content reportal-button.apply iron-icon{
           width:15px;
           height:15px;
      }
      :host>::content reportal-button.reset{
        background-color: #FFFFFF;
        font-size: 13px;
      @apply(--reportal-sidebar-reset-filters-button);
      }
      :host>::content reportal-button.reset iron-icon{
        width:15px;
        height:15px;
      }
      .hidden {display:none}
    </style>
    <div class="logo">
      <img src="[[logo]]">
    </div>
    <!-- Drawer Content -->
    <paper-tabs  selected="{{selected}}" hidden$="[[!filters]]">
      <paper-tab class="menu">Menu</paper-tab>
      <paper-tab hidden$="[[!filters]]" class="filters">Filters</paper-tab>
    </paper-tabs>

    <iron-pages selected="{{selected}}">
      <div class="menu">
        <content select="#reportMenu"></content>
      </div>
      <div class="filters">
        <content hidden$="[[!filters]]" select="#reportFilters"></content>
      </div>
    </iron-pages>
  </template>
  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'reportal-sidebar',
        properties: {
          logo: {
            type: String,
            value:''
          },
          filters: {
            type:Boolean,
            value:false
          },
          selected: {
            type:String,
            value:0, //default selected is menu
            notify:true
          }
        },
        ready:function(){
          if(this.logo.length===0){
            Polymer.dom(this.root).querySelector('.logo').classList.add('hidden');
          }
          // set custom style to multiple-injction content
         // var rwl = Polymer.dom(this.$$('#reportFilters')).querySelectorAll('reportal-list');
         // for(var i=0;i<rwl.length;i++){rwl[i].customStyle['--reportal-list-dropdown'] = 'margin:-8px 0';}
        }
      });
    })();
  </script>
</dom-module>
